import{s as r}from"./supabaseClient-79udjUpP.js";function p(){const a=document.getElementById("email"),s=document.getElementById("password"),i=document.getElementById("username"),n=document.getElementById("signupBtn");n.onclick=async()=>{var m;const t=a.value.trim(),o=s.value.trim(),e=i.value.trim();if(!t||!o||!e){alert("Wpisz email, hasło i nick");return}const{data:u,error:l}=await r.auth.signUp({email:t,password:o});if(l)alert("Błąd rejestracji: "+l.message);else{const c=(m=u.user)==null?void 0:m.id;c&&await r.from("profiles").insert([{id:c,email:t,username:e}]),alert("Zarejestrowano! Sprawdź email i kliknij link aktywacyjny."),window.location.href="login.html"}}}function g(){const a=document.getElementById("email"),s=document.getElementById("password"),i=document.getElementById("loginBtn");i.onclick=async()=>{const n=a.value.trim(),t=s.value.trim();if(!n||!t){alert("Wpisz email i hasło");return}const{data:o,error:e}=await r.auth.signInWithPassword({email:n,password:t});if(e)return alert("Błąd logowania: "+e.message);window.location.href="chat.html"}}export{p as a,g as s};
